import{r as u,j as s,F as q,a as At,R as Lt,c as Ue,b as C}from"./index-ac209825.js";import{_ as le,u as Tt,a as ke,b as qt,P as Nt,L as $t,c as Dt,H as Q,m as je,n as W,d as He,s as he,e as Rt,f as _t,S as Bt,C as P}from"./StoriesWrapper-e2c7a095.js";import{B as E}from"./index-e3726fec.js";import{I as Pe}from"./index-6413f45e.js";function Ut(){var e=u.useRef(!1),t=le(u.useState(0),2),n=t[0],r=t[1];return Tt(function(){return e.current=!0}),[u.useCallback(function(){!e.current&&r(n+1)},[n]),n]}var Se=0;function jt(){var e=Se;return Se++,e}var ae=function(e){var t=e.children,n=e.initial,r=e.isPresent,i=e.onExitComplete,o=e.custom,a=e.presenceAffectsLayout,c=ke(Ht),f=ke(jt),m=u.useMemo(function(){return{id:f,initial:n,isPresent:r,custom:o,onExitComplete:function(l){var d,h;c.set(l,!0);try{for(var p=qt(c.values()),v=p.next();!v.done;v=p.next()){var x=v.value;if(!x)return}}catch(b){d={error:b}}finally{try{v&&!v.done&&(h=p.return)&&h.call(p)}finally{if(d)throw d.error}}i==null||i()},register:function(l){return c.set(l,!1),function(){return c.delete(l)}}}},a?void 0:[r]);return u.useMemo(function(){c.forEach(function(l,d){return c.set(d,!1)})},[r]),u.useEffect(function(){!r&&!c.size&&(i==null||i())},[r]),u.createElement(Nt.Provider,{value:m},t)};function Ht(){return new Map}function $(e){return e.key||""}function Wt(e,t){e.forEach(function(n){var r=$(n);t.set(r,n)})}function Gt(e){var t=[];return u.Children.forEach(e,function(n){u.isValidElement(n)&&t.push(n)}),t}var zt=function(e){var t=e.children,n=e.custom,r=e.initial,i=r===void 0?!0:r,o=e.onExitComplete,a=e.exitBeforeEnter,c=e.presenceAffectsLayout,f=c===void 0?!0:c,m=le(Ut(),1),l=m[0],d=u.useContext($t).forceRender;d&&(l=d);var h=u.useRef(!0),p=Gt(t),v=u.useRef(p),x=u.useRef(new Map).current,b=u.useRef(new Set).current;if(Wt(p,x),h.current)return h.current=!1,u.createElement(u.Fragment,null,p.map(function(g){return u.createElement(ae,{key:$(g),isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:f},g)}));for(var w=Dt([],le(p),!1),y=v.current.map($),A=p.map($),M=y.length,S=0;S<M;S++){var k=y[S];A.indexOf(k)===-1?b.add(k):b.delete(k)}return a&&b.size&&(w=[]),b.forEach(function(g){if(A.indexOf(g)===-1){var I=x.get(g);if(I){var U=y.indexOf(g),j=function(){x.delete(g),b.delete(g);var N=v.current.findIndex(function(te){return te.key===g});v.current.splice(N,1),b.size||(v.current=p,l(),o&&o())};w.splice(U,0,u.createElement(ae,{key:$(I),isPresent:!1,onExitComplete:j,custom:n,presenceAffectsLayout:f},I))}}}),w=w.map(function(g){var I=g.key;return b.has(I)?g:u.createElement(ae,{key:$(g),isPresent:!0,presenceAffectsLayout:f},g)}),v.current=w,u.createElement(u.Fragment,null,b.size?w:w.map(function(g){return u.cloneElement(g)}))};const Ae=["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus pulvinar diam quis dolor cursus volutpat. Ut vestibulum eros sit amet faucibus pulvinar. Donec lobortis pharetra neque, eget fermentum arcu consectetur quis. Aliquam sit amet urna bibendum, porta leo non, faucibus lorem. Donec porta sollicitudin dapibus. Ut ultricies eu enim id accumsan. Etiam quam nisi, molestie ut mauris in, lacinia pulvinar eros. Sed in orci faucibus, fermentum ligula eu, mattis libero. Fusce at maximus ante, quis iaculis sem. Ut ac mi ornare, tincidunt nisl in, maximus justo. Curabitur eu ex vel neque feugiat mattis. Cras eu nisi accumsan, semper tellus vel, euismod mi.","Ut maximus ante ut viverra mattis. Nulla aliquet nec metus non vulputate. Quisque ut laoreet diam, ac facilisis ligula. Aliquam erat volutpat. Cras tempus, nisl nec dictum viverra, nibh mi eleifend tellus, a viverra nunc felis sed nibh. Aliquam ac luctus turpis. Nam rhoncus vel risus vel tincidunt. Cras ornare id felis vitae eleifend. In hac habitasse platea dictumst. Fusce quis eros ex. Sed rutrum dolor at libero efficitur pretium. Quisque imperdiet purus sapien, a fermentum massa posuere pulvinar. Pellentesque felis mauris, dictum sed suscipit euismod, facilisis vel metus. In blandit porttitor pulvinar. Donec consequat, ex sed sollicitudin volutpat, dui elit ultricies erat, ut sagittis metus sem in ipsum. Donec feugiat nec lorem nec bibendum.","Sed a dui et nisl blandit euismod. Mauris mollis purus eget pretium finibus. Mauris sit amet nunc odio. Integer nisl diam, finibus quis metus placerat, varius porta ex. Donec non scelerisque lorem. Sed aliquam dictum imperdiet. Morbi rhoncus, purus a commodo varius, ante enim commodo urna, et molestie metus lorem in turpis. Vivamus eget erat eu erat mollis varius id vitae justo. Quisque tempor euismod lectus nec imperdiet. Ut lacinia nisl tincidunt, consequat nibh at, rhoncus nisi. Fusce gravida nunc vitae leo laoreet blandit. Nunc iaculis libero ut sodales mollis. Curabitur augue justo, congue eget aliquet sed, mollis bibendum erat. Duis auctor tristique malesuada. Aliquam ornare commodo tortor in aliquet.","Donec ornare nulla ut metus rutrum bibendum non non ligula. Mauris vitae purus pellentesque, blandit nisl vitae, iaculis nunc. Phasellus tempor velit nec lacus consequat semper. Aenean maximus rhoncus eros vitae faucibus. Praesent dignissim egestas diam in volutpat. Donec ut vulputate nibh. Nulla ornare quam eget justo lacinia, in tristique orci mattis.","In ultrices, ante et tincidunt rutrum, lectus sem mattis justo, in maximus lectus dui convallis lectus. In hendrerit maximus sapien a lacinia. Curabitur iaculis posuere ultrices. Mauris sed dictum elit. In ac ligula elit. Phasellus semper vulputate ornare. Cras id eros sed velit condimentum imperdiet. Ut at ornare mi.","Proin at justo et neque fermentum interdum a dignissim nunc. Nulla laoreet ex ut ex bibendum, sed lobortis nibh luctus. Cras sed lacinia augue. Curabitur mi nulla, varius nec molestie ac, cursus eu justo. Curabitur quis pulvinar eros, at accumsan sem. Morbi congue et tellus eu volutpat. Mauris nec lacinia risus. Sed aliquam efficitur eros vitae molestie. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.","Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Suspendisse ut sodales arcu, id imperdiet augue. Phasellus purus arcu, maximus in ornare eget, mollis non orci. Cras aliquet lacus metus. Nulla ut eleifend eros. Nam sit amet purus est. Donec commodo consequat tincidunt. Etiam eget libero in purus commodo vulputate.","Cras faucibus varius lacus non venenatis. Ut rutrum augue eu arcu elementum, sit amet volutpat nunc accumsan. Phasellus dictum leo nec lectus bibendum cursus. Aliquam nec dignissim enim, ultricies ullamcorper nisi. Cras volutpat mattis ante, ac pulvinar quam aliquam vel. Maecenas eu arcu non dui auctor aliquet a id turpis. Aliquam fermentum porta vulputate. Nam eu massa dictum, convallis lectus vitae, sodales dui. Vestibulum efficitur in lectus venenatis accumsan. Integer non arcu ut odio sagittis finibus. Phasellus viverra auctor tristique.","Nullam cursus nec elit ac pulvinar. Vestibulum et dapibus quam, non malesuada lectus. Fusce posuere aliquet bibendum. Donec vitae augue nisl. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Etiam consequat lectus vitae risus pellentesque, in placerat nulla fringilla. Quisque vel pharetra lectus, in commodo massa. Phasellus ac erat neque. Proin in vulputate risus.","Nullam in turpis purus. Donec a sollicitudin nisl. Donec facilisis dolor nibh. Etiam ac tortor et mi pharetra interdum et vitae ligula. Pellentesque justo nulla, dignissim et ullamcorper ut, rutrum vitae magna. Ut auctor molestie eros, id finibus nibh malesuada sed. Nullam finibus tincidunt metus non euismod. Ut sem libero, ornare at tempor facilisis, congue vel urna. Praesent porta pulvinar dictum."],Vt=({paragraphs:e=1})=>{const t=u.useMemo(()=>Array.from({length:e},()=>{const n=Math.floor(Math.random()*Ae.length);return Ae[n]}),[e]);return s(q,{children:t.map((n,r)=>s("p",{children:n},r))})},T=Vt,Kt=({children:e,target:t=document.body})=>At.createPortal(s(q,{children:e}),t),Qt=Kt;function Zt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}var de="data-focus-lock",We="data-focus-lock-disabled",Xt="data-no-focus-lock",Yt="data-autofocus-inside",Jt="data-no-autofocus";function en(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tn(e,t){var n=u.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}function nn(e,t){return tn(t||null,function(n){return e.forEach(function(r){return en(r,n)})})}var oe={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},fe=function(){return fe=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},fe.apply(this,arguments)};function Ge(e){return e}function ze(e,t){t===void 0&&(t=Ge);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(o),a=n}var f=function(){var l=a;a=[],l.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(l){a.push(l),m()},filter:function(l){return a=a.filter(l),n}}}};return i}function be(e,t){return t===void 0&&(t=Ge),ze(e,t)}function rn(e){e===void 0&&(e={});var t=ze(null);return t.options=fe({async:!0,ssr:!1},e),t}var Ve=be({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),Ke=be(),an=be(),on=rn({async:!0}),un=[],ge=u.forwardRef(function(t,n){var r,i=u.useState(),o=i[0],a=i[1],c=u.useRef(),f=u.useRef(!1),m=u.useRef(null),l=t.children,d=t.disabled,h=t.noFocusGuards,p=t.persistentFocus,v=t.crossFrame,x=t.autoFocus;t.allowTextSelection;var b=t.group,w=t.className,y=t.whiteList,A=t.hasPositiveIndices,M=t.shards,S=M===void 0?un:M,k=t.as,g=k===void 0?"div":k,I=t.lockProps,U=I===void 0?{}:I,j=t.sideCar,N=t.returnFocus,te=t.focusOptions,ne=t.onActivation,re=t.onDeactivation,Ct=u.useState({}),Ot=Ct[0],wt=u.useCallback(function(){m.current=m.current||document&&document.activeElement,c.current&&ne&&ne(c.current),f.current=!0},[ne]),yt=u.useCallback(function(){f.current=!1,re&&re(c.current)},[re]);u.useEffect(function(){d||(m.current=null)},[]);var Et=u.useCallback(function(L){var H=m.current;if(H&&H.focus){var ie=typeof N=="function"?N(H):N;if(ie){var Fe=typeof ie=="object"?ie:void 0;m.current=null,L?Promise.resolve().then(function(){return H.focus(Fe)}):H.focus(Fe)}}},[N]),Mt=u.useCallback(function(L){f.current&&Ve.useMedium(L)},[]),It=Ke.useMedium,Ft=u.useCallback(function(L){c.current!==L&&(c.current=L,a(L))},[]),kt=G((r={},r[We]=d&&"disabled",r[de]=b,r),U),Ie=h!==!0,Pt=Ie&&h!=="tail",St=nn([n,Ft]);return u.createElement(u.Fragment,null,Ie&&[u.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:oe}),A?u.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:oe}):null],!d&&u.createElement(j,{id:Ot,sideCar:on,observed:o,disabled:d,persistentFocus:p,crossFrame:v,autoFocus:x,whiteList:y,shards:S,onActivation:wt,onDeactivation:yt,returnFocus:Et,focusOptions:te}),u.createElement(g,G({ref:St},kt,{className:w,onBlur:It,onFocus:Mt}),l),Pt&&u.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:oe}))});ge.propTypes={};ge.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const Qe=ge;function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},me(e,t)}function cn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,me(e,t)}function z(e){return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(e)}function sn(e,t){if(z(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(z(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ln(e){var t=sn(e,"string");return z(t)==="symbol"?t:String(t)}function dn(e,t,n){return t=ln(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e,t){function n(r){return r.displayName||r.name||"Component"}return function(i){var o=[],a;function c(){a=e(o.map(function(m){return m.props})),t(a)}var f=function(m){cn(l,m);function l(){return m.apply(this,arguments)||this}l.peek=function(){return a};var d=l.prototype;return d.componentDidMount=function(){o.push(this),c()},d.componentDidUpdate=function(){c()},d.componentWillUnmount=function(){var p=o.indexOf(this);o.splice(p,1),c()},d.render=function(){return Lt.createElement(i,this.props)},l}(u.PureComponent);return dn(f,"displayName","SideEffect("+n(i)+")"),f}}var F=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},Z=function(e){return Array.isArray(e)?e:[e]},Ze=function(e){return Array.isArray(e)?e[0]:e},mn=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},Xe=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Ye=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},vn=function(e,t){return!e||Ye(e)||!mn(e)&&t(Xe(e))},Je=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=vn(t,Je.bind(void 0,e));return e.set(t,r),r},pn=function(e,t){return e&&!Ye(e)?gn(e)?t(Xe(e)):!1:!0},et=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=pn(t,et.bind(void 0,e));return e.set(t,r),r},tt=function(e){return e.dataset},hn=function(e){return e.tagName==="BUTTON"},nt=function(e){return e.tagName==="INPUT"},rt=function(e){return nt(e)&&e.type==="radio"},bn=function(e){return!((nt(e)||hn(e))&&(e.type==="hidden"||e.disabled))},gn=function(e){var t=e.getAttribute(Jt);return![!0,"true",""].includes(t)},xe=function(e){var t;return!!(e&&(!((t=tt(e))===null||t===void 0)&&t.focusGuard))},X=function(e){return!xe(e)},xn=function(e){return!!e},Cn=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},it=function(e,t,n){return F(e).map(function(r,i){return{node:r,index:i,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(Cn)},On=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],Ce=On.join(","),wn="".concat(Ce,", [data-focus-guard]"),at=function(e,t){return F((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?wn:Ce)?[r]:[],at(r))},[])},yn=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?ee([e.contentDocument.body],t):[e]},ee=function(e,t){return e.reduce(function(n,r){var i,o=at(r,t),a=(i=[]).concat.apply(i,o.map(function(c){return yn(c,t)}));return n.concat(a,r.parentNode?F(r.parentNode.querySelectorAll(Ce)).filter(function(c){return c===r}):[])},[])},En=function(e){var t=e.querySelectorAll("[".concat(Yt,"]"));return F(t).map(function(n){return ee([n])}).reduce(function(n,r){return n.concat(r)},[])},Oe=function(e,t){return F(e).filter(function(n){return Je(t,n)}).filter(function(n){return bn(n)})},Le=function(e,t){return t===void 0&&(t=new Map),F(e).filter(function(n){return et(t,n)})},ve=function(e,t,n){return it(Oe(ee(e,n),t),!0,n)},Te=function(e,t){return it(Oe(ee(e),t),!1)},Mn=function(e,t){return Oe(En(e),t)},R=function(e,t){return e.shadowRoot?R(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:F(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?R(i,t):!1}return R(n,t)})},In=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(a,c){return!t.has(c)})},ot=function(e){return e.parentNode?ot(e.parentNode):e},we=function(e){var t=Z(e);return t.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(de);return n.push.apply(n,i?In(F(ot(r).querySelectorAll("[".concat(de,'="').concat(i,'"]:not([').concat(We,'="disabled"])')))):[r]),n},[])},Fn=function(e){try{return e()}catch{return}},V=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?V(t.shadowRoot):t instanceof HTMLIFrameElement&&Fn(function(){return t.contentWindow.document})?V(t.contentWindow.document):t}},kn=function(e,t){return e===t},Pn=function(e,t){return!!F(e.querySelectorAll("iframe")).some(function(n){return kn(n,t)})},ut=function(e,t){return t===void 0&&(t=V(Ze(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:we(e).some(function(n){return R(n,t)||Pn(n,t)})},Sn=function(e){e===void 0&&(e=document);var t=V(e);return t?F(e.querySelectorAll("[".concat(Xt,"]"))).some(function(n){return R(n,t)}):!1},An=function(e,t){return t.filter(rt).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},ye=function(e,t){return rt(e)&&e.name?An(e,t):e},Ln=function(e){var t=new Set;return e.forEach(function(n){return t.add(ye(n,e))}),e.filter(function(n){return t.has(n)})},qe=function(e){return e[0]&&e.length>1?ye(e[0],e):e[0]},Ne=function(e,t){return e.length>1?e.indexOf(ye(e[t],e)):t},ct="NEW_FOCUS",Tn=function(e,t,n,r){var i=e.length,o=e[0],a=e[i-1],c=xe(n);if(!(n&&e.indexOf(n)>=0)){var f=n!==void 0?t.indexOf(n):-1,m=r?t.indexOf(r):f,l=r?e.indexOf(r):-1,d=f-m,h=t.indexOf(o),p=t.indexOf(a),v=Ln(t),x=n!==void 0?v.indexOf(n):-1,b=x-(r?v.indexOf(r):f),w=Ne(e,0),y=Ne(e,i-1);if(f===-1||l===-1)return ct;if(!d&&l>=0)return l;if(f<=h&&c&&Math.abs(d)>1)return y;if(f>=p&&c&&Math.abs(d)>1)return w;if(d&&Math.abs(b)>1)return l;if(f<=h)return y;if(f>p)return w;if(d)return Math.abs(d)>1?l:(i+l+d)%i}},qn=function(e){return function(t){var n,r=(n=tt(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Nn=function(e,t,n){var r=e.map(function(o){var a=o.node;return a}),i=Le(r.filter(qn(n)));return i&&i.length?qe(i):qe(Le(t))},pe=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&pe(e.parentNode.host||e.parentNode,t),t},ue=function(e,t){for(var n=pe(e),r=pe(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},st=function(e,t,n){var r=Z(e),i=Z(t),o=r[0],a=!1;return i.filter(Boolean).forEach(function(c){a=ue(a||c,c)||a,n.filter(Boolean).forEach(function(f){var m=ue(o,f);m&&(!a||R(m,a)?a=m:a=ue(m,a))})}),a},$n=function(e,t){return e.reduce(function(n,r){return n.concat(Mn(r,t))},[])},Dn=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(xn)},Rn=function(e,t){var n=V(Z(e).length>0?document:Ze(e).ownerDocument),r=we(e).filter(X),i=st(n||e,e,r),o=new Map,a=Te(r,o),c=ve(r,o).filter(function(p){var v=p.node;return X(v)});if(!(!c[0]&&(c=a,!c[0]))){var f=Te([i],o).map(function(p){var v=p.node;return v}),m=Dn(f,c),l=m.map(function(p){var v=p.node;return v}),d=Tn(l,f,n,t);if(d===ct){var h=Nn(a,l,$n(r,o));if(h)return{node:h};console.warn("focus-lock: cannot find any node to move focus into");return}return d===void 0?d:m[d]}},_n=function(e){var t=we(e).filter(X),n=st(e,e,t),r=new Map,i=ve([n],r,!0),o=ve(t,r).filter(function(a){var c=a.node;return X(c)}).map(function(a){var c=a.node;return c});return i.map(function(a){var c=a.node,f=a.index;return{node:c,index:f,lockItem:o.indexOf(c)>=0,guard:xe(c)}})},Bn=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},ce=0,se=!1,lt=function(e,t,n){n===void 0&&(n={});var r=Rn(e,t);if(!se&&r){if(ce>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),se=!0,setTimeout(function(){se=!1},1);return}ce++,Bn(r.node,n.focusOptions),ce--}};function dt(e){var t=window,n=t.setImmediate;typeof n<"u"?n(e):setTimeout(e,1)}var Un=function(){return document&&document.activeElement===document.body},jn=function(){return Un()||Sn()},_=null,D=null,B=null,K=!1,Hn=function(){return!0},Wn=function(t){return(_.whiteList||Hn)(t)},Gn=function(t,n){B={observerNode:t,portaledElement:n}},zn=function(t){return B&&B.portaledElement===t};function $e(e,t,n,r){var i=null,o=e;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else if(a.lockItem){if(o!==e)return;i=null}else break}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var Vn=function(t){return t&&"current"in t?t.current:t},Kn=function(t){return t?!!K:K==="meanwhile"},Qn=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},Zn=function(t,n){return n.some(function(r){return Qn(t,r,r)})},Y=function(){var t=!1;if(_){var n=_,r=n.observed,i=n.persistentFocus,o=n.autoFocus,a=n.shards,c=n.crossFrame,f=n.focusOptions,m=r||B&&B.portaledElement,l=document&&document.activeElement;if(m){var d=[m].concat(a.map(Vn).filter(Boolean));if((!l||Wn(l))&&(i||Kn(c)||!jn()||!D&&o)&&(m&&!(ut(d)||l&&Zn(l,d)||zn(l))&&(document&&!D&&l&&!o?(l.blur&&l.blur(),document.body.focus()):(t=lt(d,D,{focusOptions:f}),B={})),K=!1,D=document&&document.activeElement),document){var h=document&&document.activeElement,p=_n(d),v=p.map(function(x){var b=x.node;return b}).indexOf(h);v>-1&&(p.filter(function(x){var b=x.guard,w=x.node;return b&&w.dataset.focusAutoGuard}).forEach(function(x){var b=x.node;return b.removeAttribute("tabIndex")}),$e(v,p.length,1,p),$e(v,-1,-1,p))}}}return t},ft=function(t){Y()&&t&&(t.stopPropagation(),t.preventDefault())},Ee=function(){return dt(Y)},Xn=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||Gn(r,n)},Yn=function(){return null},mt=function(){K="just",setTimeout(function(){K="meanwhile"},0)},Jn=function(){document.addEventListener("focusin",ft),document.addEventListener("focusout",Ee),window.addEventListener("blur",mt)},er=function(){document.removeEventListener("focusin",ft),document.removeEventListener("focusout",Ee),window.removeEventListener("blur",mt)};function tr(e){return e.filter(function(t){var n=t.disabled;return!n})}function nr(e){var t=e.slice(-1)[0];t&&!_&&Jn();var n=_,r=n&&t&&t.id===n.id;_=t,n&&!r&&(n.onDeactivation(),e.filter(function(i){var o=i.id;return o===n.id}).length||n.returnFocus(!t)),t?(D=null,(!r||n.observed!==t.observed)&&t.onActivation(),Y(),dt(Y)):(er(),D=null)}Ve.assignSyncMedium(Xn);Ke.assignMedium(Ee);an.assignMedium(function(e){return e({moveFocusInside:lt,focusInside:ut})});const rr=fn(tr,nr)(Yn);var vt=u.forwardRef(function(t,n){return u.createElement(Qe,G({sideCar:rr,ref:n},t))}),pt=Qe.propTypes||{};pt.sideCar;Zt(pt,["sideCar"]);vt.propTypes={};const ir=vt,ar=({children:e,readyToFocus:t,returnFocus:n=!0})=>s(ir,{returnFocus:n,disabled:!t,onDeactivation:r=>{setTimeout(()=>r.focus(),0)},children:e}),or=ar,ht={initial:{opacity:0},appear:{opacity:1},disappear:{opacity:0}},ur=Q(je.div)`
  position: fixed;
  width: 100%;
  height: 100%;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  display: grid;
  grid-template-rows: 1fr 1fr 1fr;
  background: rgba(0, 0, 0, 0.6);
  z-index: 100000;

  & [data-focus-lock-disabled] {
    display: contents;
  }

  & [data-focus-guard] {
    display: contents;
  }
`,bt=({children:e,className:t,open:n=!0,hasFocusTrap:r=n,animationVariants:i=ht,transition:o,closeOnBlur:a=!1,closeOnEsc:c=!1,onBlur:f=W,onClose:m=W,onOpen:l=W})=>{const d=Ue(t,"overlay"),h=u.useCallback(v=>{v.key==="Escape"&&c&&(v.preventDefault(),v.stopPropagation(),m())},[c,m]),p=u.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f(),a&&m()},[f,m,a]);return u.useEffect(()=>(document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}),[h]),s(Qt,{children:C(or,{readyToFocus:r,children:[s(zt,{children:n&&s(ur,{className:d,variants:i,transition:o,initial:"initial",animate:"appear",exit:"disappear",onClick:p,onAnimationStart:l},"overlay-motion")},"overlay"),e]})})},cr=(e,t,n={})=>({...t[e],...n}),sr=({open:e=!0,children:t,className:n,animationVariants:r=ht,transition:i,onClick:o=W,onOpen:a=W,animate:c})=>{const f=Ue("overlay-child",n),l=cr(e?"appear":"disappear",r,c);return s(je.div,{className:f,variants:r,initial:l,animate:l,transition:i,onClick:o,onAnimationStart:a,children:t},"overlay-child-motion")};bt.Child=sr;const gt=bt;function xt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var lr=["color"],dr=u.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=xt(e,lr);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),u.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fr=["color"],mr=u.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=xt(e,fr);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),u.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const vr=Q.div`
  height: ${({styles:e})=>e==null?void 0:e.height};
  background: ${({styles:e})=>e==null?void 0:e.background};
  min-height: ${({styles:e})=>e==null?void 0:e.height};
  display: flex;
  align-items: center;
  border-bottom: ${({styles:e})=>e==null?void 0:e.borderBottom};
`,De=Q.button`
  background: ${({styles:e})=>e==null?void 0:e.background};
  color: ${({styles:e})=>e==null?void 0:e.color};
  border: ${({styles:e})=>e==null?void 0:e.border};
  width: ${({styles:e})=>e==null?void 0:e.width};
  height: ${({styles:e})=>e==null?void 0:e.height};
  display: ${({styles:e})=>e==null?void 0:e.display};
  justify-content: ${({styles:e})=>e==null?void 0:e.justifyContent};
  align-items: ${({styles:e})=>e==null?void 0:e.alignItems};
  cursor: ${({styles:e})=>e==null?void 0:e.cursor};
  border-radius: ${({styles:e})=>e==null?void 0:e.borderRadius};
  &:hover {
    background: ${({styles:e})=>e==null?void 0:e.hover.background};
  }
`,pr=Q.div`
  text-align: ${({styles:e})=>e==null?void 0:e.textAlign};
  display: ${({styles:e})=>e==null?void 0:e.display};
  justify-content: ${({styles:e})=>e==null?void 0:e.justifyContent};
  flex-grow: ${({styles:e})=>e==null?void 0:e.flexGrow};
`,Re=Q.div`
  width: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
`,_e=e=>{switch(e){case"close":return s(mr,{});case"back":return s(dr,{});default:return null}},hr=({title:e,leftButton:t,onLeftButtonClick:n,rightButton:r,onRightButtonClick:i,overrides:o})=>{const a=He("ModalHeader",o);return C(vr,{styles:a,children:[s(Re,{children:t?s(De,{onClick:n,styles:a==null?void 0:a.ActionButton,children:_e(t)}):null}),s(pr,{styles:a==null?void 0:a.Title,children:e}),s(Re,{children:r?s(De,{onClick:i,styles:a==null?void 0:a.ActionButton,children:_e(r)}):null})]})},br=hr,gr={MODAL:1e3,ALERT:3e3,BOTTOM_SHEET:2e3,NOTIFICATION:4e3},xr=gr.MODAL,Cr=he(gt)`
  z-index: ${e=>e.zIndex};
`,Or=he(gt.Child)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: ${({styles:e})=>e.mobile.backgroundColor};
  border-radius: ${({styles:e})=>e.mobile.borderRadius};
  width: ${({styles:e})=>e.mobile.width};
  max-width: ${({styles:e})=>e.mobile.maxWidth};
  height: ${({styles:e})=>e.mobile.height};
  max-height: ${({styles:e})=>e.mobile.maxHeight};
  box-shadow: ${({styles:e})=>e.mobile.boxShadow};
  margin: ${({styles:e})=>e.mobile.margin};
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  overflow: hidden;
  z-index: ${e=>e.zIndex};

  @media (min-width: 769px) {
    background-color: ${({styles:e})=>e.desktop.backgroundColor};
    border-radius: ${({styles:e})=>e.desktop.borderRadius};
    width: ${({styles:e})=>e.desktop.width};
    max-width: ${({styles:e})=>e.desktop.maxWidth};
    height: ${({styles:e})=>e.desktop.height};
    max-height: ${({styles:e})=>e.desktop.maxHeight};
    box-shadow: ${({styles:e})=>e.desktop.boxShadow};
    margin: ${({styles:e})=>e.desktop.margin};
  }
`,wr=he.div`
  display: flex;
  flex-flow: column;
  flex-grow: 1;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
  overflow: auto;
  padding-bottom: 16px; /*Needed to compensate top margin on mobile*/
  @media (min-width: 769px) {
    padding-bottom: 0px;
  }
`,yr={desktop:{initial:{y:"100vh",scale:.8},appear:{y:0,scale:1},disappear:{y:"100vh",scale:.8}},mobile:{initial:{y:"100vh",scale:.8},appear:{y:0,scale:1},disappear:{y:"100vh",scale:.8}}},Er={type:"spring",bounce:.15,duration:.5},Mr=(e,t)=>e===-1?0:e+1===t?16:-8,Me=({uniqId:e,label:t="modal",role:n="dialog",open:r,onClose:i,onBlur:o,closeOnBlur:a=!0,closeOnEsc:c=!0,animationVariants:f=yr,vailAnimationVariants:m,transition:l=Er,vailTransition:d,overrides:h,animate:p={},children:v})=>{const[x,b]=u.useState(0),w=He("Modal",h),{onModalOpen:y,onModalClose:A,modalPosition:M,openModals:S,modalIsActive:k}=Rt(e),g=_t();u.useEffect(()=>{r?(b(xr+2*M),y()):A()},[r,y,A,M]);const I=M===-1?1:1-(S-M-1)*.03,U=g?Mr(M,S):"auto",j=g?f.mobile:f.desktop;return s(Cr,{open:r,hasFocusTrap:k&&r,closeOnBlur:a,closeOnEsc:k&&c,onClose:i,onBlur:o,transition:d,animationVariants:m,zIndex:x,children:s(Or,{animationVariants:j,open:r,transition:l,label:t,role:n,animate:{scale:I,marginTop:U,...p},styles:w,zIndex:x+1,children:v})})};Me.Content=wr;Me.Header=br;const O=Me,Sr={decorators:[e=>s(Bt,{children:s(e,{})})]},Ar=()=>{const[e,t]=u.useState(!1),n=()=>t(!1);return C(q,{children:[s(E,{variant:"primary",onClick:()=>t(!0),children:"Open Modal"}),s(O,{uniqId:"minimal-modal",open:e,onBlur:n,onClose:n,children:s(O.Content,{children:s(P,{children:s(T,{paragraphs:10})})})})]})},Be={big:{width:"800px",height:"800px"},small:{width:"400px",height:"200px"}},J=({open:e,onClose:t,uniqId:n,overrides:r,children:i})=>C(O,{uniqId:n,open:e,overrides:r,children:[s(O.Header,{title:"Child Modal",leftButton:"back",onLeftButtonClick:t}),s(O.Content,{children:i})]}),Lr=()=>{const[e,t]=u.useState(!1),[n,r]=u.useState("big"),i=()=>t(!1),o=()=>t(!0),a=()=>{r(n==="big"?"small":"big")};return C(q,{children:[s(E,{variant:"primary",onClick:o,children:"Open Modal"}),C(O,{uniqId:"resizable-modal",open:e,onBlur:i,onClose:i,animate:{width:Be[n].width,height:Be[n].height},children:[s(O.Header,{title:"Modal title",leftButton:"close",onLeftButtonClick:i}),s(O.Content,{children:C(P,{children:[s(E,{variant:"primary",onClick:a,children:"Resize me"}),s(T,{paragraphs:10})]})})]})]})},Tr=()=>{const[e,t]=u.useState(!1),[n,r]=u.useState(!1),[i,o]=u.useState(!1),a=()=>t(!1);return C(q,{children:[s(E,{variant:"primary",onClick:()=>t(!0),children:"Open Modal"}),C(O,{open:e,onBlur:a,onClose:a,uniqId:"parent",children:[s(O.Header,{title:"Modal title",leftButton:"close",onLeftButtonClick:a}),s(O.Content,{children:C(P,{children:[s(E,{variant:"primary",onClick:()=>r(!0),children:"Open child modal"}),s(T,{paragraphs:10})]})})]}),C(J,{open:n,onClose:()=>r(!1),uniqId:"child-modal",overrides:{desktop:{width:"500px",height:"300px"}},children:[C(P,{children:[s("p",{children:"This is a child modal"}),s(E,{variant:"primary",onClick:()=>o(!0),children:"Open child modal"})]}),s(J,{open:i,onClose:()=>o(!1),uniqId:"sub-child-modal",overrides:{desktop:{width:"300px",height:"200px"}},children:s(P,{children:s("p",{children:"This is a sub child modal"})})})]})]})},qr=()=>{const[e,t]=u.useState(!1),[n,r]=u.useState(!1),i=()=>t(!1),o=()=>t(!0),a=C("form",{children:[s("p",{children:"Navigate using Tab"}),s(Pe,{type:"text",placeholder:"Username",overrides:{margin:"12px 0"}}),s(Pe,{type:"password",placeholder:"Password",overrides:{margin:"12px 0"}})]});return C(q,{children:[a,s(E,{variant:"primary",onClick:o,children:"Open modal"}),C(O,{open:e,onBlur:i,onClose:i,uniqId:"parent",children:[s(O.Header,{title:"Modal title",leftButton:"close",onLeftButtonClick:i}),s(O.Content,{children:C(P,{children:[a,s(E,{variant:"primary",onClick:()=>r(!0),children:"Open child modal"})]})})]}),s(J,{open:n,onClose:()=>r(!1),uniqId:"child-modal",overrides:{desktop:{width:"500px",height:"300px"}},children:s(P,{children:a})})]})},Nr=()=>{const[e,t]=u.useState(!1),[n,r]=u.useState(!1),i=()=>t(!1),o=()=>t(!0);return C(q,{children:[s(E,{variant:"primary",onClick:o,children:"Open Modal"}),s(T,{paragraphs:10}),s(E,{variant:"primary",onClick:o,children:"Open Modal"}),s(T,{paragraphs:10}),C(O,{open:e,onBlur:i,onClose:i,uniqId:"parent",children:[s(O.Header,{title:"Modal title",leftButton:"close",onLeftButtonClick:i}),s(O.Content,{children:C(P,{children:[s(E,{variant:"primary",onClick:()=>r(!0),children:"Open child modal"}),s(T,{paragraphs:20})]})})]}),s(J,{open:n,onClose:()=>r(!1),uniqId:"child-modal",overrides:{desktop:{width:"500px",height:"300px"}},children:s(P,{children:s(T,{paragraphs:20})})})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{Ar as MinimalModal,qr as ModalFocusLock,Nr as ModalScroll,Tr as ModalStack,Lr as ResizableModal,Sr as default};
